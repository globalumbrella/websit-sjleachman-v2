<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <style>
        *{
            font-family: Arial, Helvetica, sans-serif;
            letter-spacing: 1px;
        }
        #fact{
            display: none;
        }
        #yearFact{
            display: none;
        }
        #dateFact{
            display: none;
        }
        #nav ul li a{
            color: #17a2b8;
            font-size: 1.1em;
        }
        #nav ul li a:hover{
            border: 1px solid #343a40;
            border-bottom: 1px solid #dee2e6;
        }
        @media (max-width: 450px) {
            #nav ul li a {
                padding: 10px 5px 10px 5px;
                
            }
        }
        @media (max-width: 400px) {
            #nav ul li a {
                font-size: .9em;
                padding: 10px 6px 10px 6px;
            }
            h1, h2 {
                font-size: 1.9em;
            }
            p{
                font-size: .9em;
            }
        }
        @media (max-width: 340px) {
            #nav ul li a {
                font-size: .88em;
                padding: 10px 4px 10px 4px;
                
            }
        }
    </style>
    <title>Number Facts</title>
</head>

<body class="bg-dark">
    <!-- Main Navagation -->
    <Nav class="container mt-5 p-4" id="nav">
        <div class="row">
        <ul class="nav nav-tabs col-md-12 col-lg-8 mx-auto" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="numberFacts-tab" data-toggle="tab" href="#numberFacts" role="tab" aria-controls="numberFacts" aria-selected="true">Number Facts</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="dateFacts-tab" data-toggle="tab" href="#dateFacts" role="tab" aria-controls="dateFacts" aria-selected="false">Date Facts</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="yearFacts-tab" data-toggle="tab" href="#yearFacts" role="tab" aria-controls="yearFacts" aria-selected="false">Year Facts</a>
            </li>
        </ul>
        </div>
    </Nav>

    <!-- Main Cards - HTML markup -->
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-lg-8 mx-auto" id="cardBackground">
                <div class="tab-content" id="myTabContent">
                <!-- Numbres Facts Card -->
                <div class="tab-pane fade show active" id="numberFacts" role="tabpanel" aria-labelledby="numberFacts-tab">
                    <div class="card bg-info  text-white mt-5 p-4">
                        <h1>Number Facts</h1>
                        <p>Enter A Number And Get A Random Fact</p>
                        <input class="form-control" id="numberInput" placeholder="Enter any number">
                        <div id="fact" class="card-body">
                            <h4 class="card-title">
                                Number Fact
                            </h4>
                            <p id="factText" class="card-text">

                            </p>
                        </div>
                    </div>
                </div>
                <!-- Date Facts Card -->
                <div class="tab-pane fade" id="dateFacts" role="tabpanel" aria-labelledby="dateFacts-tab">
                    <div class="card bg-info text-white mt-5 p-4">
                        <h1>Date Facts</h1>
                        <p>Enter A Date And Get A Random Fact</p>
                        <input type="numbre" class="form-control" id="dateInput" placeholder="Enter any Date">
                        <div id="dateFact" class="card-body">
                            <h4 class="card-title">
                                Date Fact
                            </h4>
                            <p id="dateFactText" class="card-text">

                            </p>
                        </div>
                    </div>
                </div>
                <!-- Year Facts Card -->
                <div class="tab-pane fade" id="yearFacts" role="tabpanel" aria-labelledby="yearFacts-tab">
                    <div class="card bg-info text-white mt-5 p-4">
                        <h1>Year Facts</h1>
                        <p>Enter A Year And Get A Random Fact</p>
                        <input  class="form-control" id="yearInput" placeholder="Enter any Year">
                        <div id="yearFact" class="card-body">
                            <h4 class="card-title">
                                Year Fact
                            </h4>
                            <p id="yearFactText" class="card-text">

                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript For Fetching From The API -->
    <script>
        // Script for fetching Number facts
        let fact = document.querySelector('#fact');
        let factText = document.querySelector('#factText');

        let numberInput = document.querySelector('#numberInput');
        numberInput.addEventListener('input', getFactFetch);     /*getFactAjax*/

        function getFactFetch(){
        let number = numberInput.value;

        fetch('http://numbersapi.com/'+ number)
        .then(response => response.text())
        .then(data => {
            if(number != ''){
                fact.style.display = 'block';
                factText.innerText = data;
            }
        })
        .catch(err => console.log(err));
        }

        /* This cometed code block below is for using Ajax to fetch from API */
        // function getFactAjax(){
        //     let number = numberInput.value;
            
        //     let xhr = new XMLHttpRequest();
        //     xhr.open('GET', 'http://numbersapi.com/'+number);
        //     xhr.onload = function(){
        //         if(this.status == 200 && number != ''){
        //             fact.style.display = 'block';
        //             factText.innerText = this.responseText;
        //         }
        //     }

        //     xhr.send();
        // }
        /* This block of code uses the Fetch API to poll in the Facts */


    // Script for fetching Date facts
        let dateFact = document.querySelector('#dateFact');
        let dateFactText = document.querySelector('#dateFactText');

        let dateInput = document.querySelector('#dateInput');
        dateInput.addEventListener('input', getDateFactFetch);   

        function getDateFactFetch(){
            let number = dateInput.value;
 
            fetch('http://numbersapi.com/'+ number + '/date')
            .then(response => response.text())
            .then(data => {
                if(number != ''){
                    dateFact.style.display = 'block';
                    dateFactText.innerText = data;
                }
            })
            .catch(err => console.log(err));
        }

    // Script for fetching Year facts
        let yearFact = document.querySelector('#yearFact');
        let yearFactText = document.querySelector('#yearFactText');

        let yearInput = document.querySelector('#yearInput');
        yearInput.addEventListener('input', getYearFactFetch);   

        function getYearFactFetch(){
            let number = yearInput.value;
 
            fetch('http://numbersapi.com/'+ number + '/year')
            .then(response => response.text())
            .then(data => {
                if(number != ''){
                    yearFact.style.display = 'block';
                    yearFactText.innerText = data;
                }
            })
            .catch(err => console.log(err));
        }
    </script>


    <!-- BootStrap Scripts-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
</body>
</html>